<html><head><meta charset="UTF-8" /><meta content="width=device-width, initial-scale=1.0" name="viewport" /><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,400;0,500;1,400&amp;display=swap" rel="stylesheet" /><link href="https://firn.theiceshelf.com/static/css/prism.css" rel="stylesheet" /><link href="https://firn.theiceshelf.com/static/css/firn_base.css" rel="stylesheet" /><link href="https://firn.theiceshelf.com/static/css/basscss.css" rel="stylesheet" /><link href="https://firn.theiceshelf.com/static/css/customization.css" rel="stylesheet" /><link href="https://firn.theiceshelf.com/static/img/favico.png" rel="icon" type="image/png" /><title>Firn - The Ice Shelf</title><script src="https://firn.theiceshelf.com/static/js/prism.js"></script></head><body><nav class="nav"><div class="nav-container"><div class="nav-left"><div id="nav-icon" onClick="toggleMenu()"><span></span><span></span><span></span><span></span></div><img class="nav-logo" src="https://firn.theiceshelf.com/static/img/ico-light.png" width="32" /></div><div class="nav-links"><a class="nav-links-item" href="https://firn.theiceshelf.com/"><span>Home</span></a><a class="nav-links-item" href="https://firn.theiceshelf.com/getting-started"><span>Docs</span></a><a class="nav-links-item" href="https://github.com/theiceshelf/firn"><span>Github</span></a></div></div></nav><main class="def-wrapper"><aside class="def-sidebar unfocused" id="sidebar"><ul class="firn-sitemap firn-sitemap-item--parent"><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/index">Home</a></li><li class="firn-sitemap-item--child"><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/getting-started">Getting Started</a><ul class="firn-sitemap-item--parent"><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/tutorial">Step by Step Tutorial</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/setup">Firn Setup (with Emacs)</a></li></ul></li><li class="firn-sitemap-item--child"><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/content">Content</a><ul class="firn-sitemap-item--parent"><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/front-matter">Front Matter</a></li><li class="firn-sitemap-item--child"><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/layout">Layouts and Partials</a><ul class="firn-sitemap-item--parent"><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/layout_examples">Layout/Partial Examples</a></li></ul></li><li class="firn-sitemap-item--child"><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/the-render-function">The Render Function</a><ul class="firn-sitemap-item--parent"><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/files-and-headlines">Files And Headlines</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/folding">Folding</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/sitemap">Sitemap</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/adjacent-files">Adjacent Files</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/backlinks_and_related_files">Backlinks and Related Files</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/org_tags">Org Tags</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/firn_tags">Firn Tags</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/table-of-contents">Table Of Contents</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/logbooks">Logbooks</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/breadcrumbs">Breadcrumbs</a></li></ul></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/pages">Custom Pages</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/styling">Styling and third-party Javascript</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/data-and-metadata">Data and Metadata</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/static-assets">Static Assets / Attachments</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/rss">Rss</a></li></ul></li><li class="firn-sitemap-item--child"><div class="firn-sitemap-item--no-link">Reference</div><ul class="firn-sitemap-item--parent"><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/configuration">Configuration</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/limitations">Limitations</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/sample-page">Sample Page</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/changelog">Changelog</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/repl">Repl</a></li></ul></li></ul></aside><article class="def-content-wrap"><div class="def-content"><h1 class="mb0">Table Of Contents</h1><div class="flex h6 mb1"><div class="pr1">Last updated: </div><div class="italic">2020-10-19 07:46</div></div><div><section><p><strong><span>Purpose:</span></strong><span> This document explains how to render and customize a table of contents in your Firn layouts.</span></p><p><strong><span>Prerequistes</span></strong><span>: an understanding of </span><a class="firn-internal" href="https://firn.theiceshelf.com/the-render-function">The Render Function</a><span> and how </span><a class="firn-internal" href="https://firn.theiceshelf.com/layout">layouts</a><span> work.</span></p></section><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="overview"><span class="firn-headline-text"><span>Overview</span></span></h1><section><p><span>A table of contents can be included in any layout that is processing an </span><strong><span>org-file</span></strong><span> (and thus, table of contents cannot be rendered in a </span><a class="firn-internal" href="https://firn.theiceshelf.com/pages">custom page</a><span>.)</span></p><p><span>A table of contents will by default render </span><em><span>every headline</span></em><span> it finds in an org-mode file. This may not be ideal and so it is possible to customize which headlines are rendered, unto what depth, and more.</span></p><p><span>Configuring your table of contents can happen on a site-wide basis (using </span><code>config.edn</code><span>), in your layouts (using the render function), or through </span><a class="firn-internal" href="https://firn.theiceshelf.com/front-matter">front matter</a><span>. This document will</span></p></section></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="usage"><span class="firn-headline-text"><span>Usage</span></span></h1><section><p><span>The table of contents can be complex and customizable. The usage section will cover several examples, the first of which will demonstrate the entire API of the table of contents, and the remainder will be used to provide more specific, simpler examples.</span></p><p><span>To follow any of the examples below, you will need to be editing a </span><a class="firn-internal" href="https://firn.theiceshelf.com/layout">layout</a><span> file.</span></p></section><div class="firn-headline-section firn-headline-section-2"><h2 class="firn-headline firn-headline-2" id="overview"><span class="firn-headline-text"><span>Overview</span></span></h2><section><pre class="language-clojure"><code class="language-clojure">
(render :toc {:depth 3           ; [ int ]      - headline depth to render until
              :headline "Notes"  ; [ string ]   - headline name to start rendering at
              :exclude-headline? ; [ boolean ]  - whether to include the specified headline
              :list-type :ol     ; [ symbol ]   - render the toc as an ordered list. Can be ":ul / :ol"
              })
</code></pre></section></div><div class="firn-headline-section firn-headline-section-2"><h2 class="firn-headline firn-headline-2" id="every-headline"><span class="firn-headline-text"><span>Every headline</span></span></h2><section><p><span>To render </span><strong><span>every</span></strong><span> headline in a layout add the following:</span></p><pre class="language-clojure"><code class="language-clojure">(render :toc)
</code></pre></section></div><div class="firn-headline-section firn-headline-section-2"><h2 class="firn-headline firn-headline-2" id="render-only-level-n-headings"><span class="firn-headline-text"><span>Render only level N headings.</span></span></h2><section><p><span>To render </span><strong><span>every</span></strong><span> headline in a layout add the following:</span></p><pre class="language-clojure"><code class="language-clojure">(render :toc {:depth 1})
</code></pre></section></div><div class="firn-headline-section firn-headline-section-2"><h2 class="firn-headline firn-headline-2" id="render-only-headings-starting-at-a-specific-name"><span class="firn-headline-text"><span>Render only headings starting at a specific name</span></span></h2><section><p><span>Some layouts might specify that only certain headlines be rendered in a document. This is useful for separating private and public content in a document. Example:</span></p><pre class="language-clojure"><code class="language-clojure">(render :toc {:headline "Notes"})
</code></pre><p><span>In the above, the table of contents will only items that are children of the "Notes" headline.</span></p><p><span>If you want to exclude "Notes" and only have its child headlines rendered, do the following:</span></p><pre class="language-clojure"><code class="language-clojure">(render :toc {:headline "Notes", :exclude-headline? true})
</code></pre></section></div></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="overriding-values-with-front-matter"><span class="firn-headline-text"><span>Overriding values with front matter</span></span></h1><section><p><span>The examples above demonstrate how you would set up a table of contents in a</span><a class="firn-internal" href="https://firn.theiceshelf.com/layout">layout</a><span>. If you need to customize the table of contents on a per-file basis, set
the options map as a value to the </span><code>#+FIRN_TOC</code><span> front matter at the top of an org
file.</span></p><p><span>Example:</span></p><pre class="language-"><code class="language-">#+TITLE: Table Of Contents
#+FIRN_UNDER: Content "The Render Function"
#+FIRN_TOC: {:depth 3 :list-type :ul}
</code></pre></section></div></div><div class="adjacent-files"><span><div class="firn-file-navigation"><span class="firn-file-nav-prev">Previous: <a href="https://firn.theiceshelf.com/firn_tags">Firn Tags</a></span> <span class="firn-file-nav-next">Next: <a href="https://firn.theiceshelf.com/logbooks">Logbooks</a></span></div></span></div><footer><script src="/static/js/main.js"></script></footer></div></article><aside class="def-toc unfocused" id="toc"><div><h4>Contents</h4><div><ol><li><a href="#overview">Overview</a></li><li><a href="#usage">Usage</a><ol><li><a href="#overview">Overview</a></li><li><a href="#every-headline">Every headline</a></li><li><a href="#render-only-level-n-headings">Render only level N headings.</a></li><li><a href="#render-only-headings-starting-at-a-specific-name">Render only headings starting at a specific name</a></li></ol></li><li><a href="#overriding-values-with-front-matter">Overriding values with front matter</a></li></ol></div></div><div><h4>Backlinks</h4><ul class="firn-backlinks"><li class="firn-backlink"><a href="https://firn.theiceshelf.com/sitemap">Sitemap</a></li><li class="firn-backlink"><a href="https://firn.theiceshelf.com/the-render-function">The Render Function</a></li></ul></div></aside></main></body></html>