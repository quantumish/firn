<html><head><meta charset="UTF-8" /><meta content="width=device-width, initial-scale=1.0" name="viewport" /><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,400;0,500;1,400&amp;display=swap" rel="stylesheet" /><link href="https://firn.theiceshelf.com/static/css/prism.css" rel="stylesheet" /><link href="https://firn.theiceshelf.com/static/css/firn_base.css" rel="stylesheet" /><link href="https://firn.theiceshelf.com/static/css/basscss.css" rel="stylesheet" /><link href="https://firn.theiceshelf.com/static/css/customization.css" rel="stylesheet" /><link href="https://firn.theiceshelf.com/static/img/favico.png" rel="icon" type="image/png" /><title>Firn - The Ice Shelf</title><script src="https://firn.theiceshelf.com/static/js/prism.js"></script></head><body><nav class="nav"><div class="nav-container"><div class="nav-left"><div id="nav-icon" onClick="toggleMenu()"><span></span><span></span><span></span><span></span></div><img class="nav-logo" src="https://firn.theiceshelf.com/static/img/ico-light.png" width="32" /></div><div class="nav-links"><a class="nav-links-item" href="https://firn.theiceshelf.com/"><span>Home</span></a><a class="nav-links-item" href="https://firn.theiceshelf.com/getting-started"><span>Docs</span></a><a class="nav-links-item" href="https://github.com/theiceshelf/firn"><span>Github</span></a></div></div></nav><main class="def-wrapper"><aside class="def-sidebar unfocused" id="sidebar"><ul class="firn-sitemap firn-sitemap-item--parent"><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/index">Home</a></li><li class="firn-sitemap-item--child"><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/getting-started">Getting Started</a><ul class="firn-sitemap-item--parent"><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/tutorial">Step by Step Tutorial</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/setup">Firn Setup (with Emacs)</a></li></ul></li><li class="firn-sitemap-item--child"><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/content">Content</a><ul class="firn-sitemap-item--parent"><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/front-matter">Front Matter</a></li><li class="firn-sitemap-item--child"><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/layout">Layouts and Partials</a><ul class="firn-sitemap-item--parent"><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/layout_examples">Layout/Partial Examples</a></li></ul></li><li class="firn-sitemap-item--child"><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/the-render-function">The Render Function</a><ul class="firn-sitemap-item--parent"><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/files-and-headlines">Files And Headlines</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/folding">Folding</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/sitemap">Sitemap</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/adjacent-files">Adjacent Files</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/backlinks_and_related_files">Backlinks and Related Files</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/org_tags">Org Tags</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/firn_tags">Firn Tags</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/table-of-contents">Table Of Contents</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/logbooks">Logbooks</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/breadcrumbs">Breadcrumbs</a></li></ul></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/pages">Custom Pages</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/styling">Styling and third-party Javascript</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/data-and-metadata">Data and Metadata</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/static-assets">Static Assets / Attachments</a></li></ul></li><li class="firn-sitemap-item--child"><div class="firn-sitemap-item--no-link">Reference</div><ul class="firn-sitemap-item--parent"><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/configuration">Configuration</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/limitations">Limitations</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/sample-page">Sample Page</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/changelog">Changelog</a></li><li><a class="firn-sitemap-item--link" href="https://firn.theiceshelf.com/repl">Repl</a></li></ul></li></ul></aside><article class="def-content-wrap"><div class="def-content"><h1 class="mb0">Step by Step Tutorial</h1><div class="flex h6 mb1"><div class="pr1">Last updated: </div><div class="italic">2020-10-14 09:09</div></div><div><section></section><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="overview"><span class="firn-headline-text"><span>Overview</span></span></h1><section><p><span>This document describes a step-by-step process to generate a static site with
Firn. The author assumes the reader has a working familiarity with the command-line. If you are looking for a quickstart guide, refer to the </span><a class="firn-internal" href="https://firn.theiceshelf.com/index#quickstart">home page</a><span>.</span></p></section><details class="firn-fold firn-fold-2" open="open"><summary class="firn-headline-summary-2">A note on Emacs</summary><div class="firn-headline-section-folded firn-headline-section-2"><h2 class="firn-headline firn-headline-2 firn-headline-hidden" id="a-note-on-emacs"><span class="firn-headline-text-hidden"><span>A note on Emacs</span></span><span class="firn-org-tags"><span><a class="firn-org-tag" href="/tags#emacs">emacs</a></span></span></h2><section><p><span>If you are already familiar with Org mode, Emacs, Lisp,  you might wish to skip to the </span><a class="firn-internal" href="https://firn.theiceshelf.com/tutorial#summary">summary</a><span>.</span></p><p><span>For beginners: It you are not using org-mode with Emacs, or have never heard of either of these tools - you may be confused. Still, this document is tailored toward complete beginners and will not assume you are familiar with Emacs. But you might want to go do that, and come back in a few days (or weeks).</span></p></section></div></details></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="get-the-firn-binary"><span class="firn-headline-text"><span>Get the Firn binary</span></span></h1><section><p><span>Head to GitHub to get the </span><a class="firn-external" href="https://github.com/theiceshelf/firn/releases" target="_blank">latest release</a><span> of Firn. Currently, Firn is supported on Mac and Linux. After downloading the release, unzip it and move it to </span><code>usr/local/bin</code><span> if you prefer to be able to run the binary from anywhere on your system.</span></p><pre class="language-shell"><code class="language-shell">mv ~/Downloads/firn /usr/local/bin
</code></pre><p><span>If you are on Linux, you may need to run </span><code>chmod +x firn</code><span> to make Firn executable on your system.</span></p></section></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="create-a-new-site"><span class="firn-headline-text"><span>Create a new site</span></span></h1><section><p><span>This document assumes that you are working with a totally new directory with no org-files yet created. The below code sample will create a folder in your root directory, as well as an </span><code>index.org</code><span> file with some text redirected into it.</span></p><pre class="language-shell"><code class="language-shell">mkdir -p ~/firn-test-site # create a test directory at root
cd ~/firn-test-site       # navigate into the new directory
touch index.org           # create a sample org file

# redirect some sample org-mode content into the new file.
echo "#+TITLE: My Index Page" > index.org # add required front matter
echo "* Test heading" >> index.org        # add sample content.
</code></pre><p><span>Great! Let's see if it builds.</span></p><pre class="language-shell"><code class="language-shell">firn new          # creates a _firn directory in ~/firn-test-site
firn build        # transform org files to html files
ls -l _firn/_site # take a look at resulting built files:

# your terminal should look something like this:
# -rw-r--r--  1 <usr>  staff  266 22 Jun 18:23 feed.xml
# -rw-r--r--  1 <usr>  staff  343 22 Jun 18:23 index.html
# drwxr-xr-x  3 <usr>  staff   96 22 Jun 18:23 static
</code></pre><p><span>If you open the compiled </span><code>index.html</code><span> file, you should see the sample "Test heading" on the page.</span></p><p><span>You've got yourself a plain, simple HTML page, with very little functionality. Behind the scenes, however, a few things happened.</span></p></section></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="inspecting-the-_firn-directory"><span class="firn-headline-text"><span>Inspecting the _firn directory</span></span></h1><section><p><span>When calling the </span><code>firn new</code><span> command, a series of folders and files are created:</span></p><pre class="language-shell"><code class="language-shell"># the `tree` command, run in the firn-test-site dir shows the following:

.
├── _firn
│   ├── _site
│   │   ├── feed.xml
│   │   ├── index.html
│   │   └── static
│   │       └── css
│   │           └── main.css
│   ├── config.edn
│   ├── layouts
│   │   └── default.clj
│   ├── partials
│   │   └── head.clj
│   ├── pages
│   │   └── tags.clj
│   └── static
│       └── css
│           └── main.css
└── index.org

</code></pre><p><span>These files are the defaults that come out of the box with Firn. They provide you with the tools to write a bit of CSS, code the layout of your files, and configure the build process and features Firn offers.</span></p></section></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="development-server"><span class="firn-headline-text"><span>Development Server</span></span></h1><section><p><span>Running </span><code>firn build</code><span> every time you make a change is a bit cumbersome. This is where the development server comes in. In your terminal run the following command:</span></p><pre class="language-shell"><code class="language-shell">firn serve
</code></pre><p><span>Your site is now being served on port 4000 - head to </span><a class="firn-external" href="http://localhost:4000" target="_blank">http://localhost:4000</a><span> to take a look.</span></p><p><span>Try adding another heading to the </span><code>index.org</code><span> file - it will re-compile and display in the browser on refresh. You will also notice that page looks different. The output of a Firn site (the </span><code>_site</code><span> folder) is intended to be hosted on a server or CDN. So, running </span><code>firn build</code><span> will simply output the files as they are expected to be hosted on a server - this means that your styles and inter-linking between files will not work. Using the development server will solve this, and be used frequently for this purpose.</span></p></section><details class="firn-fold firn-fold-2" open="open"><summary class="firn-headline-summary-2">Server Reloading</summary><div class="firn-headline-section-folded firn-headline-section-2"><h2 class="firn-headline firn-headline-2 firn-headline-hidden" id="server-reloading"><span class="firn-headline-text-hidden"><span>Server Reloading</span></span><span class="firn-org-tags"><span><a class="firn-org-tag" href="/tags#limitation">limitation</a></span></span></h2><section><p><span>From time to time you may need to start the firn development server again, especially when you make site-wide changes to things like your site-map, or occasionally when the file-server fails to pick up a newly created or deleted org-mode file.</span></p></section></div></details></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="inspecting-a-firn-org-mode-file"><span class="firn-headline-text"><span>Inspecting a Firn org-mode-file</span></span></h1><section><p><span>For Firn to be able to "pick-up" and transform org-mode files into html, a file will need to have something that is often known as "front-matter" in a static-site-generator. In org-mode, </span><a class="firn-external" href="https://orgmode.org/manual/In_002dbuffer-Settings.html" target="_blank">in-buffer-settings</a><span> are used to create "front-matter." All files must have at least a </span><code>#+TITLE:</code><span> keyword, but should also have a </span><code>#+FIRN_LAYOUT:</code><span> keywords as well. The keywords are documented in the </span><a class="firn-internal" href="https://firn.theiceshelf.com/configuration#reference">reference section</a><span> and explained in more detail in the </span><a class="firn-internal" href="https://firn.theiceshelf.com/front-matter">front matter</a><span> document.</span></p></section></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="rendering-content"><span class="firn-headline-text"><span>Rendering Content</span></span></h1><section><p><span>Firn is capable of picking and choosing what parts of an org-file you want to render (display as HTML). Let's explore that now. In your editor, create an org mode file with several headings, and content under each heading. Following, open the file </span><code>_firn/layouts/default.clj</code><span>. It will look something like this:</span></p><pre class="language-clojure"><code class="language-clojure">(defn default
  [{:keys [org-tags build-url title render partials]}]
  (let [{:keys [head nav footer]} partials]
    [:html
     (head build-url)
     [:body
      [:main
       [:article
        [:div
         [:h1 title]
         (render :file)]]]]]))
</code></pre><p><span>The above is Clojure code, which is the language that was used to build Firn. This code uses Hiccup to render HTML. Look to the </span><code>(render ...)</code><span> function. Right now, it's indicating that the default layout for an org-mode file should render the file in it's entirety.</span></p><p><span>Change that line to the following:</span></p><pre class="language-clojure"><code class="language-clojure">
(render "{My New Heading}")

</code></pre><p><span>Where you will replace </span><code>{My New Heading}</code><span> with the specific headline you have created. On saving changes, the server will reload the layout and only render the specified heading and its contents.</span></p><p><span>Read more about the render function and layouts in the </span><a class="firn-internal" href="https://firn.theiceshelf.com/layout">layout document</a><span> and </span><a class="firn-internal" href="https://firn.theiceshelf.com/the-render-function">the render function</a><span> document.</span></p></section></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="understanding-configedn"><span class="firn-headline-text"><span>Understanding config.edn</span></span><span class="firn-org-tags"><span><a class="firn-org-tag" href="/tags#configuration">configuration</a></span></span></h1><section><p><span>When generating a new site, Firn will create a </span><code>config.edn</code><span> file in the </span><code>_firn</code><span> directory. This file covers several different aspects of customization for the building of your site. Making changes to this file will largely affect the build output of Firn, as well as rendering behaviour across all files.</span></p><p><span>Consider an intial config.edn file:</span></p><pre class="language-clojure"><code class="language-clojure">{:dir-data         "data"   ; org-attachments/files to get copied into _site.
 :enable-rss?      true     ; If true, creates a feed.xml in _site.
 :firn-properties? false    ; global: whether to render properties under all headings
 :firn-toc         nil      ; global: settings for any rendered table of contents
 :ignored-dirs     ["priv"] ; Directories to ignore org files in.
 :site-desc        ""       ; Used for RSS.
 :site-title       ""       ; Used for RSS.
 :site-url         ""       ; Used for building internal links.}

</code></pre><p><span>Most of the keys and their values are self explanatory, but let's discuss an example nonetheless. Perhaps a user already has an existing folder of org-files, and these files often link to images in a directory named "attach". Rather than have to rename "attach" to "data" and painfully rename several </span><code>file</code><span>
links in org-files, a user can change the </span><code>dir-data</code><span> key to point to the folder that already exists.</span></p><p><span>The available configuration keys are commented within the file itself, and are more heavily documented in the </span><a class="firn-internal" href="https://firn.theiceshelf.com/configuration">configuration documentation</a><span>. Beyond the above example, the functionality of this file is out of scope for the getting started guide.</span></p></section></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="adding-attachments"><span class="firn-headline-text"><span>Adding attachments</span></span><span class="firn-org-tags"><span><a class="firn-org-tag" href="/tags#attachments">attachments</a></span></span></h1><section><p><span>The above example largely describes how to use "attachments" (ie, a folder with images etc). Set the name of your folder where images/files are linked to, and it will copy the contents over.</span></p><p><span>Attachments must be linked with a </span><a class="firn-external" href="https://orgmode.org/manual/External-Links.html" target="_blank">"file" type link</a><span>. </span><code>Attachment</code><span> links are not currently supported.</span></p><p><strong><span>NOTE</span></strong><span>: Currently, Firn copies the </span><u><span>entirety of this folder into your build output</span></u><span>. This means that if you have attachments which are private or simply unlinked to from org-files, they will be included in your build output.</span></p></section></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="summary"><span class="firn-headline-text"><span>Summary</span></span></h1><section><ol><li><p><span>Download the </span><a class="firn-external" href="https://github.com/theiceshelf/firn/releases" target="_blank">latest release</a><span> (only Mac and Linux currently supported)</span></p></li><li><p><span>Move the Firn binary into your path: </span><code>mv ~/Downloads/firn /usr/local/bin</code></p></li><li><p><span>Navigate to your directory of org files</span></p></li><li><p><span>Run </span><code>firn new</code></p></li><li><p><span>Run </span><code>firn serve</code></p></li><li><p><span>Run </span><code>firn build</code><span> when ready to put your site online!</span></p></li></ol></section></div></div><div class="adjacent-files"><span><div class="firn-file-navigation"> <span class="firn-file-nav-next">Next: <a href="https://firn.theiceshelf.com/setup">Firn Setup (with Emacs)</a></span></div></span></div><footer><script src="/static/js/main.js"></script></footer></div></article><aside class="def-toc unfocused" id="toc"><div><h4>Contents</h4><div><ol><li><a href="#overview">Overview</a><ol><li><a href="#a-note-on-emacs">A note on Emacs</a></li></ol></li><li><a href="#get-the-firn-binary">Get the Firn binary</a></li><li><a href="#create-a-new-site">Create a new site</a></li><li><a href="#inspecting-the-_firn-directory">Inspecting the _firn directory</a></li><li><a href="#development-server">Development Server</a><ol><li><a href="#server-reloading">Server Reloading</a></li></ol></li><li><a href="#inspecting-a-firn-org-mode-file">Inspecting a Firn org-mode-file</a></li><li><a href="#rendering-content">Rendering Content</a></li><li><a href="#understanding-configedn">Understanding config.edn</a></li><li><a href="#adding-attachments">Adding attachments</a></li><li><a href="#summary">Summary</a></li></ol></div></div><div><h4>Backlinks</h4><ul class="firn-backlinks"><li class="firn-backlink"><a href="https://firn.theiceshelf.com/getting-started">Getting Started</a></li></ul></div></aside></main></body></html>